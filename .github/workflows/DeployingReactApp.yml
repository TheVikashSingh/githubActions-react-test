name: Deploying a React Project
on: [push, workflow_dispatch]
jobs:
 testing-the-react-app:
  runs-on: ubuntu-latest
  steps:
   - name: Getting the code
     uses: actions/checkout@v5
   - name: Installing NodeJS
     uses: actions/setup-node@v3
     with:
      node-version: 20
   - name: Installing dependencies
     run: npm ci
   - name: Running the Test
     run: npm run test    
 building-the-react-app:
  needs: testing-the-react-app
  runs-on: ubuntu-latest
  steps:
    - name: Getting the code
      uses: actions/checkout@v5
    - name: Installing NodeJS
      uses: actions/setup-node@v3
      with:
       node-version: 20
    - name: Installing dependencies
      run: npm ci
    - name: Building the app
      run: npm run build
    - name: Uploading the artifacts
      uses: actions/upload-artifact@v4
      with:
       path: |  #uploading package.json just to learn use of the pipe operator
        dist/   
        package.json
 deploying:
  needs: building-the-react-app 
  runs-on: ubuntu-latest
  steps:      
   - name: Deploying this app
     run: echo "Deploying this react app..."
            






